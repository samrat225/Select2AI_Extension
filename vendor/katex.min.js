// katex.min.js placeholder
// IMPORTANT: This file is a placeholder to avoid CSP/script-not-found errors.
// To enable full KaTeX rendering, download KaTeX distribution and place the
// following files in this vendor/ folder with these exact names:
//  - vendor/katex.min.js  (from https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js)
//  - vendor/katex.min.css (from https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css)
// Once you add the real files, the extension will load KaTeX from the extension
// origin (chrome-extension://...) and avoid CSP blocking when pages disallow CDNs.

// Minimal safe fallback: provide a noop window.katex.renderToString so callers don't crash.
// This fallback will NOT render math, it only prevents runtime errors.
(function(){
  if (!window.katex) {
    window.katex = {
      renderToString: function(tex, opts) {
        // Return escaped TeX in a code block as a fallback
        function escapeHtml(s){return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;')}
        return '<pre class="aixt-pre"><code>' + escapeHtml(tex) + '</code></pre>'
      }
    }
  }
})();
